{"version":3,"sources":["quiz.js"],"names":["correct_ans","correct_ans_element_id","question","document","getElementById","question_type","num","container","quiz_page","result_page","progress_bar","score_box","difficulty","localStorage","getItem","setItem","score","score_ele","high_score","url","start","data","response_code","x","load","results","setInterval","length","console","log","index","textContent","decodeURIComponent","category","innerHTML","correct_answer","incorrect_answers","push","shuffle","forEach","element","put_option","ele","fontSize","style","isOverflown","setTimeout","display","classList","remove","add","scrollHeight","clientHeight","scrollWidth","clientWidth","backgroundColor","letters","ele_checkbox","createElement","type","id","setAttribute","ele_label","ele_span_identifier","className","ele_span_option","appendChild","check_answer","e","inputs","getElementsByTagName","i","disabled","nextSibling","border","array","currentIndex","temporaryValue","randomIndex","Math","floor","random","fetch","then","response","json"],"mappings":"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","file":"quiz.7148326d.js","sourceRoot":"../public","sourcesContent":["var question = document.getElementById(\"question\");\nvar question_type = document.getElementById(\"question_type\");\nvar num = document.getElementById(\"num\");\nvar container = document.getElementById(\"container\");\nvar quiz_page = document.getElementById(\"quiz_page\");\nvar result_page = document.getElementById(\"result_page\");\nvar progress_bar = document.getElementById(\"progress_bar\");\nvar score_box = document.getElementById(\"score_box\");\n\n//gobal variables\nvar correct_ans;\nvar correct_ans_element_id;\n\nvar difficulty = localStorage.getItem(\"difficulty\");\nif (difficulty == null) {\n  difficulty = \"easy\";\n  localStorage.setItem(\"difficulty\", \"easy\");\n}\nvar score = 0;\nvar score_ele = document.getElementById(\"score_ele\");\nvar high_score = localStorage.getItem(\"high_score\");\nif (high_score == null) {\n  localStorage.setItem(\"high_score\", \"0\");\n  high_score = localStorage.getItem(\"high_score\");\n}\n\nvar url =\n  \"https://opentdb.com/api.php?amount=10&encode=url3986&difficulty=\" +\n  difficulty;\n\nfetch(url)\n  .then((response) => {\n    return response.json();\n  })\n  .then((data) => {\n    start(data);\n  });\n\nfunction start(data) {\n  if (data.response_code == 0) {\n    var x = 1;\n\n    load(data.results[0], 0);\n\n    setInterval(function () {\n      if (x < data.results.length) {\n        load(data.results[x], x);\n      } else return;\n      x++;\n    }, 10000);\n  } else {\n    console.log(\"ERROR\");\n  }\n}\n\nfunction load(data, index) {\n  // setting question cateory\n  question_type.textContent = decodeURIComponent(data.category);\n  // setting question\n  question.textContent = decodeURIComponent(data.question);\n  // setting question number\n  num.textContent = index + 1;\n  // clearing the container\n  container.innerHTML = \"\";\n  // loop over each option and create element to append in container\n  // add correct answer to the option list\n  correct_ans = decodeURIComponent(data.correct_answer);\n  data.incorrect_answers.push(data.correct_answer);\n  shuffle(data.incorrect_answers);\n  data.incorrect_answers.forEach((element, index) => {\n    put_option(element, index);\n  });\n  var ele = document.getElementById(\"question_card\");\n  var fontSize = 35;\n  ele.style.fontSize = fontSize + \"px\";\n  for (var x = fontSize; x >= 0; x--) {\n    var overflow = isOverflown(ele);\n    if (overflow) {\n      fontSize--;\n      ele.style.fontSize = fontSize + \"px\";\n    }\n  }\n  if (num.textContent == 10) {\n    setTimeout(function () {\n      quiz_page.style.display = \"none\";\n      result_page.innerHTML =\n        \"<p id='res'>You scored <p id='result_score'>\" + score + \"</p></p>\";\n      score_box.style.display = \"none\";\n      result_page.style.display = \"flex\";\n    }, 10000);\n  }\n  progress_bar.classList.remove(\"animate\");\n  progress_bar.classList.add(\"animate\");\n}\n\nfunction isOverflown(element) {\n  return (\n    element.scrollHeight > element.clientHeight ||\n    element.scrollWidth > element.clientWidth\n  );\n}\n\nfunction put_option(element, index) {\n  document.getElementById(\"bottom\").style.backgroundColor = \"#0A0B0B\";\n  letters = [\"a\", \"b\", \"c\", \"d\"];\n  // checkbox\n  var ele_checkbox = document.createElement(\"input\");\n  ele_checkbox.type = \"checkbox\";\n  ele_checkbox.id = \"option_\" + letters[index];\n  ele_checkbox.setAttribute(\n    \"onchange\",\n    \"check_answer('\" + decodeURIComponent(element) + \"')\"\n  );\n  // lable\n  var ele_label = document.createElement(\"label\");\n  ele_label.setAttribute(\"for\", \"option_\" + letters[index]);\n  // span identifier\n  var ele_span_identifier = document.createElement(\"span\");\n  ele_span_identifier.className = \"option_index\";\n  ele_span_identifier.textContent = letters[index];\n  // span option\n  var ele_span_option = document.createElement(\"span\");\n  ele_span_option.className = \"option\";\n  ele_span_option.textContent = decodeURIComponent(element);\n  // appending to lable\n  ele_label.appendChild(ele_span_identifier);\n  ele_label.appendChild(ele_span_option);\n  // appending to container\n  container.appendChild(ele_checkbox);\n  container.appendChild(ele_label);\n\n  if (decodeURIComponent(element) == correct_ans) {\n    correct_ans_element_id = ele_checkbox.id;\n  }\n}\n\nfunction check_answer(e) {\n  var inputs = document.getElementsByTagName(\"input\");\n  for (var i = 0; i < inputs.length; i++) {\n    inputs[i].disabled = true;\n  }\n  if (e == correct_ans) {\n    score += 10;\n    score_ele.textContent = score;\n    if (score > localStorage.getItem(\"high_score\")) {\n      localStorage.setItem(\"high_score\", score);\n    }\n    document.getElementById(\"bottom\").style.backgroundColor = \"#34ca62\";\n    console.log(e, \"is Correct\");\n  } else {\n    document.getElementById(\"bottom\").style.backgroundColor =\n      \"rgb(224, 57, 57)\";\n    console.log(e, \"is Wrong\");\n    document.getElementById(\n      correct_ans_element_id\n    ).nextSibling.style.backgroundColor = \"#34ca62\";\n    document.getElementById(correct_ans_element_id).nextSibling.style.border =\n      \"2px solid #34ca62\";\n  }\n}\n\nfunction shuffle(array) {\n  var currentIndex = array.length,\n    temporaryValue,\n    randomIndex;\n\n  // While there remain elements to shuffle...\n  while (0 !== currentIndex) {\n    // Pick a remaining element...\n    randomIndex = Math.floor(Math.random() * currentIndex);\n    currentIndex -= 1;\n\n    // And swap it with the current element.\n    temporaryValue = array[currentIndex];\n    array[currentIndex] = array[randomIndex];\n    array[randomIndex] = temporaryValue;\n  }\n\n  return array;\n}\n"]}